<!DOCTYPE html>
<html lang="fa">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>آزمون چهار گزینه‌ای</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
	<style>
		.selected {
			background-color: #e9ecef !important;
			/* رنگ خاکستری برای نمایش گزینه انتخاب شده */
			color: black !important;
		}
		.btn-toggle-theme {
			position: fixed;
			right: 20px;
			bottom: 20px;
			border-radius: 50%;
			font-size: 24px;
			background-color: #f0f0f0;
			/* برای لایت مود */
			color: #222222;
			border: none;
			cursor: pointer;
			padding: 10px;
		}

		.dark-mode {
			background-color: #222222;
			/* برای دارک مود */
			color: #f0f0f0;
		}

		/* تغییر آیکون بر اساس حالت */
		.dark-mode .btn-toggle-theme i {
			transform: rotate(180deg);
		}
		.dark-mode .list-group-item {
			background: #101010;
			color: #fff;
			border-color: #3D3D3D;
		}
	</style>
</head>
<body>
	<div class="container mt-5">
		<div id="question-container" class="mb-4"></div>
		<button id="prev-btn" class="btn btn-primary">قبلی</button>
		<button id="next-btn" class="btn btn-primary">بعدی</button>
	</div>
	<div id="results-container" class="mt-4"></div>
	<button id="toggle-theme-btn" class="btn-toggle-theme">
		<i class="bi bi-moon"></i> <!-- آیکون برای دارک مود، می‌توانید با آیکون خورشید (bi-sun) برای لایت مود جایگزین کنید -->
	</button>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<script>
		let questions = [{
			question: "Bootstrap چیست و چه ویژگی‌هایی دارد؟",
			options: [
				"یک فریمورک CSS برای طراحی صفحات وب ریسپانسیو",
				"یک زبان برنامه‌نویسی جدید",
				"ابزاری برای طراحی دیتابیس‌ها"
			],
			answer: 0
		},
		{
			question: "تفاوت بین `container` و `container-fluid` در Bootstrap چیست؟",
			options: [
				"`container` عرض ثابت دارد و `container-fluid` عرض کامل صفحه را می‌گیرد",
				"`container` برای ستون‌ها استفاده می‌شود و `container-fluid` برای نوار جستجو",
				"`container` برای صفحات موبایل و `container-fluid` برای دسکتاپ است"
			],
			answer: 0
		},
		{
			question: "کلاس‌های ریسپانسیو در Bootstrap چیست؟",
			options: [
				"کلاس‌هایی که برای طراحی صفحات با تصاویر استفاده می‌شوند",
				"کلاس‌هایی که به طراحی صفحات وب بر اساس اندازه صفحه نمایش دستگاه کمک می‌کنند",
				"کلاس‌هایی که برای اعمال استایل‌های انیمیشنی به صفحات استفاده می‌شوند"
			],
			answer: 1
		},
		{
			question: "چگونه می‌توان یک دکمه با استفاده از Bootstrap طراحی کرد؟",
			options: [
				"<button class='btn btn-primary'>دکمه</button>",
				"<button class='btn'>Click</button>",
				"<button class='button-primary'>Click me</button>"
			],
			answer: 0
		},
		{
			question: "ویژگی‌های سیستم `flexbox` در Bootstrap چیست؟",
			options: [
				"یک روش برای چینش محتوا به صورت انعطاف‌پذیر و ریسپانسیو",
				"ابزاری برای ایجاد انیمیشن‌ها و ترنزیشن‌ها",
				"روش جدید برای مدیریت رویدادهای کاربر"
			],
			answer: 0
		}];


		let questionIndex = 0;
		let score = 0;
		let userAnswers = Array(questions.length).fill(null);

		function showQuestion(index) {
			let q = questions[index];
			$("#question-container").html(`<h4>${q.question}</h4>
				<ul class="list-group">
				${q.options.map((option, i) => `<li class="list-group-item">${option}</li>`).join('')}
				</ul>
				`);

			$(".list-group-item").on("click", function() {
				userAnswers[index] = $(this).index();
				$(this).addClass('selected').siblings().removeClass('selected');
			});
		}

		function showResults() {
			$("#question-container, #prev-btn, #next-btn").hide();
			let resultHTML = questions.map((q, index) => {
				let isCorrect = q.answer === userAnswers[index];
				if (isCorrect) score++;
				return `<li class="list-group-item ${isCorrect ? 'list-group-item-success': 'list-group-item-danger'}">
				${q.question} - پاسخ شما: ${q.options[userAnswers[index]] || 'بدون پاسخ'}
				${isCorrect ? '<i class="bi bi-check-lg"></i>': '<i class="bi bi-x-lg"></i>'}
				</li>`;
			}).join('');

			$("#results-container").html(`<h3>شما ${score} از ${questions.length} سوال را درست پاسخ دادید.</h3>
				<ul class="list-group">${resultHTML}</ul>`);
		}

		$("#prev-btn").on("click", function() {
			if (questionIndex > 0) {
				questionIndex--;
				showQuestion(questionIndex);
			}
		});

		$("#next-btn").on("click", function() {
			if (questionIndex < questions.length - 1) {
				questionIndex++;
				showQuestion(questionIndex);
			} else {
				showResults();
			}
		});

		// ابتدا دکمه قبلی را غیرفعال می‌کنیم
		//$("#prev-btn").hide();

		// تغییر دکمه بعدی به پایان آزمون در سوال آخر
		$(document).on('click', '#next-btn', function() {
			if (questionIndex === questions.length - 2) {
				$("#next-btn").text('پایان آزمون');
			} else if (questionIndex < questions.length - 2) {
				$("#next-btn").text('بعدی');
			}
		});

		showQuestion(questionIndex);
		function showQuestion(index) {
			let q = questions[index];
			$("#question-container").html(`<h4>${q.question}</h4>
				<ul class="list-group">
				${q.options.map((option, i) => `<li class="list-group-item">${option}</li>`).join('')}
				</ul>
				`);

			$(".list-group-item").on("click",
				function() {
					userAnswers[index] = $(this).index();
					$(".list-group-item").removeClass('selected'); // حذف کلاس selected از تمام گزینه‌ها
					$(this).addClass('selected'); // اضافه کردن کلاس selected به گزینه انتخاب شده
				});
		}
		document.getElementById('toggle-theme-btn').addEventListener('click', function() {
			document.body.classList.toggle('dark-mode'); // تغییر کلاس بدنه برای تغییر حالت

			// تغییر آیکون بر اساس حالت فعلی
			if (document.body.classList.contains('dark-mode')) {
				this.innerHTML = '<i class="bi bi-sun"></i>'; // آیکون خورشید برای لایت مود
			} else {
				this.innerHTML = '<i class="bi bi-moon"></i>'; // آیکون ماه برای دارک مود
			}
		});
	</script>
</body>
</html
